# AI Tarot Cards - æŠ€æœ¯æ¶æ„æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**ï¼šMystic Tarot AI
**é¡¹ç›®ç±»å‹**ï¼šAI é©±åŠ¨çš„å¡”ç½—ç‰Œå åœ Web åº”ç”¨
**æŠ€æœ¯æ ˆ**ï¼šReact + TypeScript + Vercel Functions + Neon PostgreSQL
**AI å¼•æ“**ï¼šé˜¿é‡Œäº‘ç™¾ç‚¼ (Qwen-Flash)

ä¸€æ¬¾åŸºäº AI çš„å¡”ç½—ç‰Œå åœåº”ç”¨ï¼Œæ”¯æŒä¸‰å¼ ç‰Œæ—¶é—´çº¿è§£è¯»ï¼ˆè¿‡å»-ç°åœ¨-æœªæ¥ï¼‰ã€å‘½é¢˜è¿½è¸ªã€äº‹ä»¶æ—¶é—´çº¿ç®¡ç†ã€ä¼šå‘˜è®¢é˜…ç³»ç»Ÿã€å…‘æ¢ç ç³»ç»Ÿä»¥åŠå®Œæ•´çš„åå°ç®¡ç†åŠŸèƒ½ã€‚

---

## ç³»ç»Ÿæ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   App.tsx    â”‚  â”‚ AdminApp.tsx â”‚  â”‚ admin.html   â”‚      â”‚
â”‚  â”‚  (ç”¨æˆ·ç•Œé¢)   â”‚  â”‚  (ç®¡ç†ç«¯)    â”‚  â”‚ (è¶…çº§ç®¡ç†)   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  API Gateway  â”‚
                    â”‚  (Vercel Edge)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend Layer (API)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  auth.ts â”‚ â”‚topics.ts â”‚ â”‚ admin.ts â”‚ â”‚tarot-    â”‚      â”‚
â”‚  â”‚ (OAuth)  â”‚ â”‚ (å‘½é¢˜ç®¡ç†)â”‚ â”‚ (ç®¡ç†API)â”‚ â”‚reading.tsâ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ codes.ts â”‚ â”‚ usage.ts â”‚ â”‚  me.ts   â”‚                    â”‚
â”‚  â”‚ (å…‘æ¢ç )  â”‚ â”‚ (ç”¨é‡ç»Ÿè®¡)â”‚ â”‚ (ç”¨æˆ·ä¿¡æ¯)â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Service Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ jwt.ts       â”‚ â”‚ plan.ts      â”‚ â”‚promptService â”‚       â”‚
â”‚  â”‚ (JWTè®¤è¯)    â”‚ â”‚ (ä¼šå‘˜è®¡åˆ’)   â”‚ â”‚ (Promptç®¡ç†) â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚topicService  â”‚ â”‚redemption.ts â”‚ â”‚bailianServiceâ”‚       â”‚
â”‚  â”‚ (å‘½é¢˜æœåŠ¡)   â”‚ â”‚ (å…‘æ¢ç )     â”‚ â”‚ (AIè°ƒç”¨)     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ admin.ts     â”‚ â”‚ usage.ts     â”‚                         â”‚
â”‚  â”‚ (ç®¡ç†æœåŠ¡)   â”‚ â”‚ (ç”¨é‡æœåŠ¡)   â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Data Layer                             â”‚
â”‚                 Neon PostgreSQL Database                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ users, admin_users, topics, topic_events,      â”‚         â”‚
â”‚  â”‚ membership_cycles, daily_usage,                â”‚         â”‚
â”‚  â”‚ redemption_codes, prompts                      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Services                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Google OAuth â”‚  â”‚ é˜¿é‡Œäº‘ç™¾ç‚¼    â”‚                        â”‚
â”‚  â”‚ (ç”¨æˆ·ç™»å½•)   â”‚  â”‚ (AI è§£è¯»)    â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ ˆè¯¦è§£

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **React** | 19.2.1 | UI æ¡†æ¶ |
| **TypeScript** | 5.8.2 | ç±»å‹å®‰å…¨ |
| **Vite** | 6.2.0 | æ„å»ºå·¥å…· |
| **react-markdown** | 10.1.0 | AI è§£è¯»æ¸²æŸ“ |
| **html-to-image** | 1.11.13 | å¡ç‰Œæˆªå›¾å¯¼å‡º |

**ç‰¹è‰²ç»„ä»¶**ï¼š
- `Card.tsx` - å¡”ç½—ç‰Œå¡ç‰‡ç»„ä»¶ï¼ˆæ”¯æŒç¿»è½¬åŠ¨ç”»ï¼‰
- `StarryBackground.tsx` - æ˜Ÿç©ºèƒŒæ™¯æ•ˆæœ
- `App.tsx` - ä¸»åº”ç”¨é€»è¾‘ï¼ˆ3500+ è¡Œï¼‰
- `AdminApp.tsx` - ç®¡ç†ç«¯åº”ç”¨

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Vercel Functions** | - | Serverless API |
| **Neon PostgreSQL** | - | æ•°æ®åº“ï¼ˆServerlessï¼‰ |
| **@neondatabase/serverless** | 1.0.2 | æ•°æ®åº“è¿æ¥æ±  |
| **jsonwebtoken** | 9.0.3 | JWT è®¤è¯ |
| **bcryptjs** | 3.0.3 | å¯†ç åŠ å¯† |
| **cookie** | 1.1.1 | Cookie ç®¡ç† |

**éƒ¨ç½²é…ç½®**ï¼š
- `vercel.json` - Vercel éƒ¨ç½²é…ç½®
- å‡½æ•°è¶…æ—¶ï¼š30 ç§’
- é‡å†™è§„åˆ™ï¼šæ”¯æŒ SPA è·¯ç”±

---

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

**æŠ€æœ¯å®ç°**ï¼š
- **OAuth 2.0**ï¼šGoogle ç™»å½•
- **JWT**ï¼šæ— çŠ¶æ€ä¼šè¯ç®¡ç†
- **Cookie**ï¼šhttpOnly + secureï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- **åŒå±‚ç®¡ç†å‘˜**ï¼š
  - æ™®é€šç®¡ç†å‘˜ï¼š`admin_users` è¡¨
  - è¶…çº§ç®¡ç†å‘˜ï¼šadmin.html + ADMIN_CODE_SECRET

**æ–‡ä»¶**ï¼š
- `api/auth.ts` - OAuth å›è°ƒå¤„ç†
- `api/me.ts` - è·å–å½“å‰ç”¨æˆ·
- `api/logout.ts` - ç™»å‡º
- `services/jwt.ts` - JWT ç­¾å‘/éªŒè¯
- `services/authService.ts` - OAuth é…ç½®

**æµç¨‹**ï¼š
```
ç”¨æˆ·ç‚¹å‡» Google ç™»å½•
  â†’ OAuth æˆæƒé¡µé¢
  â†’ å›è°ƒ /api/auth/google/callback
  â†’ åˆ›å»º/æ›´æ–°ç”¨æˆ·
  â†’ ç­¾å‘ JWT
  â†’ è®¾ç½® Cookie
  â†’ é‡å®šå‘åˆ°é¦–é¡µ
```

---

### 2. å¡”ç½—å åœæ ¸å¿ƒ

**å åœæ¨¡å¼**ï¼š
1. **å¿«é€Ÿå åœ**ï¼šæŠ½ä¸‰å¼ ç‰Œï¼ˆè¿‡å»-ç°åœ¨-æœªæ¥ï¼‰
2. **å‘½é¢˜æ¨¡å¼**ï¼šåˆ›å»ºä¸»é¢˜ â†’ åŸºçº¿è§£è¯» â†’ è¿½è¸ªäº‹ä»¶

**æµç¨‹**ï¼š
```typescript
// App.tsx æ ¸å¿ƒçŠ¶æ€
const [phase, setPhase] = useState<AppPhase>(AppPhase.INPUT);
const [drawnCards, setDrawnCards] = useState<DrawnCard[]>([]);
const [reading, setReading] = useState<string>('');

// å åœé˜¶æ®µ
enum AppPhase {
  INPUT,      // è¾“å…¥é—®é¢˜
  SHUFFLING,  // æ´—ç‰ŒåŠ¨ç”»
  DRAWING,    // æŠ½ç‰ŒåŠ¨ç”»
  REVEAL,     // ç¿»ç‰Œå±•ç¤º
  ANALYSIS,   // AI è§£è¯»
}
```

**AI è§£è¯»æµç¨‹**ï¼š
```
ç”¨æˆ·æäº¤é—®é¢˜ + æŠ½å–3å¼ ç‰Œ
  â†’ è°ƒç”¨ /api/tarot-reading
  â†’ ä» prompts è¡¨è·å–æ¨¡æ¿
  â†’ æ¸²æŸ“å˜é‡ï¼ˆquestion, cards, historyï¼‰
  â†’ è°ƒç”¨é˜¿é‡Œäº‘ç™¾ç‚¼ API
  â†’ è¿”å› Markdown æ ¼å¼è§£è¯»
  â†’ å‰ç«¯å®æ—¶æµå¼æ˜¾ç¤º
```

---

### 3. Prompt é…ç½®åŒ–ç³»ç»Ÿ

**æ ¸å¿ƒè®¾è®¡**ï¼š
- **å®Œå…¨è§£è€¦**ï¼šæç¤ºè¯ä¸ä»£ç åˆ†ç¦»
- **æ•°æ®åº“é©±åŠ¨**ï¼šæ‰€æœ‰ Prompt å­˜å‚¨åœ¨ `prompts` è¡¨
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡ç‹¬ç«‹é…ç½®
- **å˜é‡ç³»ç»Ÿ**ï¼š`{{variable}}` å ä½ç¬¦

**æ•°æ®æ¨¡å‹**ï¼š
```sql
CREATE TABLE prompts (
  id UUID PRIMARY KEY,
  key TEXT NOT NULL,                    -- å¦‚ tarot_initial_reading
  language TEXT NOT NULL DEFAULT 'zh',  -- zh / en
  trigger_type TEXT NOT NULL,           -- initial / event
  variables JSONB NOT NULL,             -- æ”¯æŒçš„å˜é‡åˆ—è¡¨
  template TEXT NOT NULL,               -- æ¨¡æ¿å†…å®¹
  is_active BOOLEAN DEFAULT true,
  UNIQUE(key, language)
);
```

**æ”¯æŒçš„å˜é‡**ï¼š
- `question` - ç”¨æˆ·é—®é¢˜
- `baseline_cards` - åŸºç¡€ä¸‰å¼ ç‰Œ
- `baseline_reading` - åŸºç¡€è§£è¯»æ‘˜è¦
- `history` - å†å²äº‹ä»¶
- `event_name` - äº‹ä»¶åç§°
- `current_card` - å½“å‰æŠ½ç‰Œ
- `reading_structure` - è§£è¯»ç»“æ„

**ç®¡ç†ç•Œé¢**ï¼š`admin.html` â†’ "åŠ è½½ Prompts"

---

### 4. ä¼šå‘˜è®¢é˜…ç³»ç»Ÿ

**ä¼šå‘˜ç­‰çº§**ï¼š
```typescript
type Plan = 'guest' | 'free' | 'member';

// é…é¢è§„åˆ™
const PLAN_QUOTAS = {
  guest: { topics: 0, events: 0 },
  free: { topics: 1, events: 3 },
  member: { topics: 999, events: 999 }
};
```

**ä¼šå‘˜å‘¨æœŸ**ï¼š
```sql
CREATE TABLE membership_cycles (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  plan TEXT NOT NULL,
  starts_at TIMESTAMPTZ,
  ends_at TIMESTAMPTZ,
  topic_quota INT,
  event_quota_per_topic INT,
  source TEXT  -- 'redeem' / 'purchase'
);
```

**é™çº§ä¿æŠ¤**ï¼š
- ä¼šå‘˜åˆ°æœŸåé™ä¸º free
- è¶…å‡ºé…é¢çš„å‘½é¢˜è‡ªåŠ¨å½’æ¡£
- ä¿ç•™ä¸€ä¸ªã€Œé™çº§ä¿æŠ¤ã€å‘½é¢˜

**æ–‡ä»¶**ï¼š
- `services/plan.ts` - é…é¢è®¡ç®—ã€é™çº§é€»è¾‘
- `api/usage.ts` - ç”¨é‡æŸ¥è¯¢
- `services/usage.ts` - æ¯æ—¥ç”¨é‡ç»Ÿè®¡

---

### 5. å…‘æ¢ç ç³»ç»Ÿ

**åŠŸèƒ½**ï¼š
- ç”Ÿæˆå…‘æ¢ç ï¼ˆæ‰¹é‡ï¼‰
- å…‘æ¢æ¿€æ´»ä¼šå‘˜
- æœ‰æ•ˆæœŸç®¡ç†
- ä½¿ç”¨çŠ¶æ€è¿½è¸ª

**æ•°æ®æ¨¡å‹**ï¼š
```sql
CREATE TABLE redemption_codes (
  code TEXT PRIMARY KEY,
  duration_days INT NOT NULL DEFAULT 30,
  expires_at DATE,
  redeemed_by UUID REFERENCES users(id),
  redeemed_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

**çŠ¶æ€æœº**ï¼š
```
active   â†’ å¯ç”¨
used     â†’ å·²ä½¿ç”¨
expired  â†’ å·²è¿‡æœŸ
```

**API**ï¼š
- `POST /api/codes/redeem` - å…‘æ¢ç æ¿€æ´»
- `POST /api/admin/codes/generate` - ç”Ÿæˆå…‘æ¢ç ï¼ˆç®¡ç†å‘˜ï¼‰

**æ–‡ä»¶**ï¼š
- `api/codes.ts` - å…‘æ¢æ¥å£
- `services/redemption.ts` - å…‘æ¢ç é€»è¾‘

---

### 6. å‘½é¢˜ä¸äº‹ä»¶ç³»ç»Ÿ

**å‘½é¢˜ï¼ˆTopicï¼‰**ï¼š
- ç”¨æˆ·åˆ›å»ºçš„é•¿æœŸè¿½è¸ªä¸»é¢˜
- åŒ…å«åŸºçº¿è§£è¯»ï¼ˆä¸‰å¼ ç‰Œï¼‰
- ç»‘å®šåˆ°ä¼šå‘˜å‘¨æœŸ

**äº‹ä»¶ï¼ˆTopic Eventï¼‰**ï¼š
- å‘½é¢˜ä¸‹çš„æ—¶é—´çº¿äº‹ä»¶
- æ¯ä¸ªäº‹ä»¶ä¸€å¼ ç‰Œ
- åŒ…å«äº‹ä»¶åç§°ã€è§£è¯»

**å…³ç³»**ï¼š
```
User (1) â†’ (*) MembershipCycle
         â†’ (*) Topic
              â†’ (*) TopicEvent
```

**API**ï¼š
- `POST /api/topics` - åˆ›å»ºå‘½é¢˜
- `GET /api/topics` - è·å–å‘½é¢˜åˆ—è¡¨
- `POST /api/topics/:id/events` - æ·»åŠ äº‹ä»¶
- `DELETE /api/topics/:id` - åˆ é™¤å‘½é¢˜

**æ–‡ä»¶**ï¼š
- `api/topics.ts` - å‘½é¢˜ç®¡ç† API
- `services/topicService.ts` - å‘½é¢˜ä¸šåŠ¡é€»è¾‘

---

### 7. åå°ç®¡ç†ç³»ç»Ÿ

**åŒå±‚ç®¡ç†æ¶æ„**ï¼š

#### è¶…çº§ç®¡ç†å‘˜ï¼ˆadmin.htmlï¼‰
- **è®¤è¯æ–¹å¼**ï¼šBasic Auth (email + password)
- **ç”¨æˆ·ç®¡ç†**ï¼šæŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ã€å‘½é¢˜ã€äº‹ä»¶
- **å…‘æ¢ç ç®¡ç†**ï¼šç”Ÿæˆã€æŸ¥çœ‹å…‘æ¢ç 
- **Prompt ç®¡ç†**ï¼šé…ç½® AI æç¤ºè¯æ¨¡æ¿

#### æ™®é€šç®¡ç†å‘˜ï¼ˆAdminApp.tsxï¼‰
- **è®¤è¯æ–¹å¼**ï¼šJWT
- **åŠŸèƒ½**ï¼šåŸºç¡€ç”¨æˆ·æŸ¥çœ‹ã€ç»Ÿè®¡

**åå°åŠŸèƒ½æ¨¡å—**ï¼š
```
admin.html
  â”œâ”€â”€ ç”¨æˆ·ç®¡ç†
  â”‚   â”œâ”€â”€ ç”¨æˆ·åˆ—è¡¨ï¼ˆå«ç»Ÿè®¡ï¼‰
  â”‚   â””â”€â”€ æŸ¥çœ‹ç”¨æˆ·å‘½é¢˜å’Œäº‹ä»¶
  â”œâ”€â”€ å…‘æ¢ç ç®¡ç†
  â”‚   â”œâ”€â”€ ç”Ÿæˆå…‘æ¢ç 
  â”‚   â””â”€â”€ æŸ¥çœ‹å…‘æ¢ç çŠ¶æ€
  â””â”€â”€ Prompt ç®¡ç†
      â”œâ”€â”€ åˆ›å»º/ç¼–è¾‘/åˆ é™¤ Prompt
      â”œâ”€â”€ å˜é‡é…ç½®
      â””â”€â”€ å¯ç”¨/ç¦ç”¨æ§åˆ¶
```

**API**ï¼š
- `GET /api/admin/users` - ç”¨æˆ·ç»Ÿè®¡
- `GET /api/admin/users/:id/topics` - ç”¨æˆ·å‘½é¢˜
- `GET /api/admin/topics/:id/events` - å‘½é¢˜äº‹ä»¶
- `GET /api/admin/codes` - å…‘æ¢ç åˆ—è¡¨
- `POST /api/admin/codes/generate` - ç”Ÿæˆå…‘æ¢ç 
- `GET /api/admin/prompts` - Prompt åˆ—è¡¨
- `POST /api/admin/prompts` - åˆ›å»º Prompt
- `PUT /api/admin/prompts/:id` - æ›´æ–° Prompt
- `DELETE /api/admin/prompts/:id` - åˆ é™¤ Prompt

**æ–‡ä»¶**ï¼š
- `api/admin.ts` - ç®¡ç† APIï¼ˆ300+ è¡Œï¼‰
- `services/admin.ts` - ç®¡ç†æœåŠ¡é€»è¾‘
- `admin.html` - è¶…çº§ç®¡ç†ç•Œé¢ï¼ˆ600+ è¡Œï¼‰
- `AdminApp.tsx` - æ™®é€šç®¡ç†ç•Œé¢

---

## æ•°æ®åº“è®¾è®¡

### ER å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    users    â”‚â”€â”€â”€â”€â”€â”€<â”‚membership_cyclesâ”‚>â”€â”€â”€â”€â”€â”€â”‚    topics    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                                       â”‚
                                                       â–¼
                                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                               â”‚topic_events  â”‚
                                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ admin_users â”‚       â”‚redemption_codes â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚daily_usage  â”‚       â”‚    prompts      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè¡¨ç»“æ„

#### usersï¼ˆç”¨æˆ·è¡¨ï¼‰
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  provider TEXT NOT NULL,          -- 'google'
  provider_id TEXT NOT NULL,       -- OAuth ID
  email TEXT,
  name TEXT,
  avatar TEXT,
  membership_expires_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(provider, provider_id)
);
```

#### topicsï¼ˆå‘½é¢˜è¡¨ï¼‰
```sql
CREATE TABLE topics (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  cycle_id UUID REFERENCES membership_cycles(id),
  title TEXT NOT NULL,
  language TEXT DEFAULT 'zh',
  baseline_cards JSONB,            -- ä¸‰å¼ åŸºçº¿ç‰Œ
  baseline_reading TEXT,           -- åŸºçº¿è§£è¯»
  status TEXT DEFAULT 'active',    -- active / archived
  created_at TIMESTAMPTZ,
  updated_at TIMESTAMPTZ
);
```

#### topic_eventsï¼ˆäº‹ä»¶è¡¨ï¼‰
```sql
CREATE TABLE topic_events (
  id UUID PRIMARY KEY,
  topic_id UUID REFERENCES topics(id),
  cycle_id UUID REFERENCES membership_cycles(id),
  user_id UUID REFERENCES users(id),
  name TEXT NOT NULL,              -- äº‹ä»¶åç§°
  cards JSONB,                     -- æŠ½å–çš„ç‰Œ
  reading TEXT,                    -- AI è§£è¯»
  created_at TIMESTAMPTZ
);
```

#### promptsï¼ˆæç¤ºè¯æ¨¡æ¿è¡¨ï¼‰
```sql
CREATE TABLE prompts (
  id UUID PRIMARY KEY,
  key TEXT NOT NULL,
  language TEXT NOT NULL,
  trigger_type TEXT NOT NULL,      -- initial / event
  variables JSONB NOT NULL,        -- æ”¯æŒçš„å˜é‡
  template TEXT NOT NULL,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ,
  updated_at TIMESTAMPTZ,
  UNIQUE(key, language)
);
```

**ç´¢å¼•ä¼˜åŒ–**ï¼š
- `idx_users_provider` - OAuth æŸ¥è¯¢
- `idx_topics_user` - ç”¨æˆ·å‘½é¢˜æŸ¥è¯¢
- `idx_topic_events_topic` - å‘½é¢˜äº‹ä»¶æŸ¥è¯¢
- `idx_prompts_key_language` - Prompt æŸ¥è¯¢
- `idx_membership_cycles_user` - ä¼šå‘˜å‘¨æœŸæŸ¥è¯¢

---

## API æ¥å£è®¾è®¡

### è®¤è¯ç›¸å…³

| Method | Endpoint | æè¿° | è®¤è¯ |
|--------|----------|------|------|
| GET | `/api/auth/google` | Google OAuth ç™»å½• | - |
| GET | `/api/auth/google/callback` | OAuth å›è°ƒ | - |
| GET | `/api/me` | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ | JWT |
| POST | `/api/logout` | ç™»å‡º | JWT |

### å¡”ç½—å åœ

| Method | Endpoint | æè¿° | è®¤è¯ |
|--------|----------|------|------|
| POST | `/api/tarot-reading` | AI è§£è¯» | JWT |

**è¯·æ±‚ä½“**ï¼š
```json
{
  "question": "æˆ‘çš„èŒä¸šå‘å±•å¦‚ä½•ï¼Ÿ",
  "cards": [
    { "id": 0, "name": "The Fool", "isReversed": false, "position": 0 },
    { "id": 1, "name": "The Magician", "isReversed": false, "position": 1 },
    { "id": 2, "name": "The High Priestess", "isReversed": true, "position": 2 }
  ],
  "language": "zh",
  "promptKey": "tarot_initial_reading",
  "variables": {
    "question": "...",
    "baseline_cards": "..."
  }
}
```

### å‘½é¢˜ç®¡ç†

| Method | Endpoint | æè¿° | è®¤è¯ |
|--------|----------|------|------|
| GET | `/api/topics` | è·å–å‘½é¢˜åˆ—è¡¨ | JWT |
| POST | `/api/topics` | åˆ›å»ºå‘½é¢˜ | JWT |
| DELETE | `/api/topics/:id` | åˆ é™¤å‘½é¢˜ | JWT |
| POST | `/api/topics/:id/events` | æ·»åŠ äº‹ä»¶ | JWT |

### å…‘æ¢ç 

| Method | Endpoint | æè¿° | è®¤è¯ |
|--------|----------|------|------|
| POST | `/api/codes/redeem` | å…‘æ¢æ¿€æ´» | JWT |

### ç®¡ç†åå°

| Method | Endpoint | æè¿° | è®¤è¯ |
|--------|----------|------|------|
| POST | `/api/admin/create` | åˆ›å»ºç®¡ç†å‘˜ | ADMIN_CODE_SECRET |
| GET | `/api/admin/users` | ç”¨æˆ·ç»Ÿè®¡ | Basic Auth |
| GET | `/api/admin/users/:id/topics` | ç”¨æˆ·å‘½é¢˜ | Basic Auth |
| GET | `/api/admin/topics/:id/events` | å‘½é¢˜äº‹ä»¶ | Basic Auth |
| GET | `/api/admin/codes` | å…‘æ¢ç åˆ—è¡¨ | Basic Auth |
| POST | `/api/admin/codes/generate` | ç”Ÿæˆå…‘æ¢ç  | Basic Auth |
| GET | `/api/admin/prompts` | Prompt åˆ—è¡¨ | Basic Auth |
| POST | `/api/admin/prompts` | åˆ›å»º Prompt | Basic Auth |
| PUT | `/api/admin/prompts/:id` | æ›´æ–° Prompt | Basic Auth |
| DELETE | `/api/admin/prompts/:id` | åˆ é™¤ Prompt | Basic Auth |

---

## ç¯å¢ƒå˜é‡é…ç½®

### å‰ç«¯ç¯å¢ƒå˜é‡
```env
VITE_API_BASE=https://your-domain.com  # API åŸºç¡€ URLï¼ˆå¯é€‰ï¼‰
```

### åç«¯ç¯å¢ƒå˜é‡
```env
# æ•°æ®åº“
DATABASE_URL=postgresql://...

# OAuth
GOOGLE_CLIENT_ID=xxx
GOOGLE_CLIENT_SECRET=xxx

# JWT
SESSION_SECRET=xxx

# æœåŠ¡ URL
CLIENT_ORIGIN=https://your-domain.com
SERVER_URL=https://your-domain.com

# ç®¡ç†å‘˜å¯†é’¥
ADMIN_CODE_SECRET=xxx

# AI API
BAILIAN_API_KEY=xxx
```

---

## éƒ¨ç½²æ¶æ„

### Vercel éƒ¨ç½²

**é…ç½®æ–‡ä»¶**ï¼š`vercel.json`
```json
{
  "version": 2,
  "rewrites": [
    { "source": "/api/health", "destination": "/api/health" },
    { "source": "/api/auth/(.*)", "destination": "/api/auth" },
    { "source": "/api/topics/(.*)", "destination": "/api/topics" },
    { "source": "/api/admin/(.*)", "destination": "/api/admin" }
  ],
  "functions": {
    "api/*.ts": { "maxDuration": 30 }
  }
}
```

**æ„å»ºæµç¨‹**ï¼š
```bash
npm install           # å®‰è£…ä¾èµ–
npm run build         # Vite æ„å»ºå‰ç«¯
vercel deploy --prod  # éƒ¨ç½²åˆ° Vercel
```

**Edge Functions**ï¼š
- åœ°ç†ä½ç½®ï¼šGlobal
- å†·å¯åŠ¨æ—¶é—´ï¼š~50ms
- æ‰§è¡Œè¶…æ—¶ï¼š30s

### æ•°æ®åº“éƒ¨ç½²

**Neon PostgreSQL**ï¼š
- Serverless æ¶æ„
- è‡ªåŠ¨æ‰©ç¼©å®¹
- è¿æ¥æ± ä¼˜åŒ–ï¼šmax=1ï¼ˆå•è¿æ¥æ¨¡å¼ï¼‰
- è¿æ¥è¶…æ—¶ï¼š5s
- ç©ºé—²è¶…æ—¶ï¼š30s

**è¿æ¥é…ç½®**ï¼š
```typescript
// services/db.ts
const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
  max: 1,                      // Serverless ä¼˜åŒ–
  connectionTimeoutMillis: 5000,
  idleTimeoutMillis: 30000,
});
```

---

## æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–

1. **ä»£ç åˆ†å‰²**ï¼šVite è‡ªåŠ¨åˆ†å—
2. **å›¾ç‰‡ä¼˜åŒ–**ï¼šå¡”ç½—ç‰Œå›¾ç‰‡ WebP æ ¼å¼
3. **æ‡’åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½ç»„ä»¶
4. **ç¼“å­˜ç­–ç•¥**ï¼š
   - é™æ€èµ„æºï¼šCDN ç¼“å­˜
   - API å“åº”ï¼šä¼šå‘˜ä¿¡æ¯ç¼“å­˜

### åç«¯ä¼˜åŒ–

1. **æ•°æ®åº“è¿æ¥æ± **ï¼šå•è¿æ¥å¤ç”¨
2. **ç´¢å¼•ä¼˜åŒ–**ï¼šå…³é”®æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
3. **æŸ¥è¯¢ä¼˜åŒ–**ï¼šå‡å°‘ N+1 æŸ¥è¯¢
4. **JWT è®¤è¯**ï¼šæ— çŠ¶æ€ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢

### AI è°ƒç”¨ä¼˜åŒ–

1. **Prompt ç¼“å­˜**ï¼šæ•°æ®åº“çº§åˆ«ç¼“å­˜
2. **æµå¼å“åº”**ï¼šï¼ˆå¯é€‰ï¼‰æ”¯æŒ SSE
3. **è¶…æ—¶æ§åˆ¶**ï¼š30s è¶…æ—¶ä¿æŠ¤
4. **é”™è¯¯é‡è¯•**ï¼šï¼ˆå¾…å®ç°ï¼‰

---

## å®‰å…¨æªæ–½

### è®¤è¯å®‰å…¨

- **OAuth 2.0**ï¼šä½¿ç”¨ Google å®˜æ–¹ SDK
- **JWT**ï¼šHS256 ç­¾åï¼ŒhttpOnly Cookie
- **CSRF é˜²æŠ¤**ï¼šsameSite=lax
- **XSS é˜²æŠ¤**ï¼šå†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰

### æ•°æ®å®‰å…¨

- **å¯†ç åŠ å¯†**ï¼šbcryptï¼ˆç®¡ç†å‘˜å¯†ç ï¼‰
- **SQL æ³¨å…¥é˜²æŠ¤**ï¼šå‚æ•°åŒ–æŸ¥è¯¢
- **æ•æ„Ÿæ•°æ®**ï¼šç¯å¢ƒå˜é‡ç®¡ç†
- **HTTPS**ï¼šå…¨ç«™å¼ºåˆ¶ HTTPS

### è®¿é—®æ§åˆ¶

- **åˆ†å±‚æƒé™**ï¼šæ¸¸å®¢ < æ³¨å†Œç”¨æˆ· < ä¼šå‘˜ < ç®¡ç†å‘˜
- **èµ„æºéš”ç¦»**ï¼šç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„å‘½é¢˜
- **é€Ÿç‡é™åˆ¶**ï¼šï¼ˆå¾…å®ç°ï¼‰API è°ƒç”¨é™æµ

---

## ç›‘æ§ä¸æ—¥å¿—

### æ—¥å¿—ç­–ç•¥

**æ§åˆ¶å°æ—¥å¿—**ï¼š
```typescript
console.log('[module] Action:', details);
console.error('[module] Error:', error);
console.warn('[module] Warning:', warning);
```

**å…³é”®äº‹ä»¶æ—¥å¿—**ï¼š
- ç”¨æˆ·ç™»å½•/ç™»å‡º
- ä¼šå‘˜æ¿€æ´»/åˆ°æœŸ
- AI è°ƒç”¨æˆåŠŸ/å¤±è´¥
- æ•°æ®åº“è¿æ¥çŠ¶æ€

### ç›‘æ§æŒ‡æ ‡

**æ€§èƒ½æŒ‡æ ‡**ï¼š
- API å“åº”æ—¶é—´
- æ•°æ®åº“æŸ¥è¯¢æ—¶é—´
- AI è°ƒç”¨å»¶è¿Ÿ

**ä¸šåŠ¡æŒ‡æ ‡**ï¼š
- DAUï¼ˆæ—¥æ´»ç”¨æˆ·ï¼‰
- å åœæ¬¡æ•°
- ä¼šå‘˜è½¬åŒ–ç‡
- å…‘æ¢ç ä½¿ç”¨ç‡

---

## å¼€å‘å·¥ä½œæµ

### æœ¬åœ°å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 4. è®¿é—®
http://localhost:5173
```

### æ•°æ®åº“è¿ç§»

```bash
# åº”ç”¨ Schema
psql $DATABASE_URL -f services/schema.sql

# è¿ç§» Prompts
npx tsx scripts/migrate-prompts.ts
```

### ä»£ç è§„èŒƒ

- **TypeScript**ï¼šä¸¥æ ¼æ¨¡å¼
- **ç»„ä»¶**ï¼šå‡½æ•°å¼ç»„ä»¶ + Hooks
- **å‘½å**ï¼šcamelCaseï¼ˆå˜é‡ï¼‰ã€PascalCaseï¼ˆç»„ä»¶ï¼‰
- **æ³¨é‡Š**ï¼šå…³é”®é€»è¾‘æ·»åŠ æ³¨é‡Š

### Git å·¥ä½œæµ

```bash
# åŠŸèƒ½åˆ†æ”¯
git checkout -b feat/new-feature

# æäº¤
git add .
git commit -m "feat: add new feature"

# æ¨é€
git push origin feat/new-feature

# åˆå¹¶åˆ° main
```

---

## æŠ€æœ¯å€ºåŠ¡ä¸æ”¹è¿›æ–¹å‘

### çŸ­æœŸæ”¹è¿›

- [ ] æ·»åŠ  API é€Ÿç‡é™åˆ¶
- [ ] å®ç° AI å“åº”æµå¼è¾“å‡º
- [ ] æ·»åŠ å‰ç«¯é”™è¯¯è¾¹ç•Œ
- [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

### ä¸­æœŸæ”¹è¿›

- [ ] æ”¯æŒæ›´å¤š OAuth æä¾›å•†
- [ ] å®ç°æ”¯ä»˜ç³»ç»Ÿï¼ˆStripeï¼‰
- [ ] æ·»åŠ æ•°æ®åˆ†æä»ªè¡¨æ¿
- [ ] å¤šè¯­è¨€å›½é™…åŒ–ï¼ˆi18nï¼‰
- [ ] PWA æ”¯æŒ

### é•¿æœŸè§„åˆ’

- [ ] å¾®æœåŠ¡æ¶æ„è¿ç§»
- [ ] å®æ—¶åä½œåŠŸèƒ½
- [ ] AI æ¨¡å‹è‡ªå®šä¹‰è®­ç»ƒ
- [ ] ç¤¾åŒºåˆ†äº«åŠŸèƒ½
- [ ] ç§»åŠ¨ Appï¼ˆReact Nativeï¼‰

---

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼Ÿ
```bash
node server/create-admin.js your@email.com password123 "Admin Name"
```

### Q: Prompt æ¨¡æ¿åœ¨å“ªé‡Œé…ç½®ï¼Ÿ
è®¿é—® `/admin.html` â†’ ç™»å½• â†’ "åŠ è½½ Prompts" â†’ åˆ›å»º/ç¼–è¾‘

### Q: ä¼šå‘˜åˆ°æœŸåæ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿ
ä¸ä¼šã€‚é™çº§åæ•°æ®ä»ä¿ç•™ï¼Œåªæ˜¯è®¿é—®å—é™ã€‚å‡çº§ä¼šå‘˜åå¯æ¢å¤è®¿é—®ã€‚

### Q: å¦‚ä½•ç”Ÿæˆå…‘æ¢ç ï¼Ÿ
è®¿é—® `/admin.html` â†’ ç™»å½• â†’ "åŠ è½½å…‘æ¢ç " â†’ "ç”Ÿæˆæ–°å…‘æ¢ç "

### Q: AI è§£è¯»é€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ
- æ£€æŸ¥ BAILIAN_API_KEY æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- è€ƒè™‘å‡çº§åˆ°æ›´å¿«çš„ AI æ¨¡å‹

---

## ç‰ˆæœ¬å†å²

### v1.2.0 (2024-12-09)
- âœ¨ æ–°å¢ï¼šPrompt é…ç½®åŒ–ç®¡ç†ç³»ç»Ÿ
- âœ¨ æ–°å¢ï¼šåå° Prompt CRUD åŠŸèƒ½
- ğŸ”§ ä¼˜åŒ–ï¼šAI è°ƒç”¨æ¶æ„æ”¹é€ 

### v1.1.0 (2024-12-09)
- âœ¨ æ–°å¢ï¼šå…‘æ¢ç ç³»ç»Ÿ
- âœ¨ æ–°å¢ï¼šåå°ç®¡ç†ç•Œé¢

### v1.0.0 (2024-12-06)
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ åŸºç¡€å¡”ç½—å åœåŠŸèƒ½
- âœ¨ Google OAuth ç™»å½•
- âœ¨ ä¼šå‘˜è®¢é˜…ç³»ç»Ÿ
- âœ¨ å‘½é¢˜ä¸äº‹ä»¶ç®¡ç†

---

## å‚è€ƒèµ„æº

### æ–‡æ¡£
- [PROMPT_SYSTEM.md](./docs/PROMPT_SYSTEM.md) - Prompt ç³»ç»Ÿè¯¦ç»†æ–‡æ¡£
- [README.md](./README.md) - é¡¹ç›®ç®€ä»‹

### æŠ€æœ¯æ ˆå®˜æ–¹æ–‡æ¡£
- [React Documentation](https://react.dev/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [Vercel Functions](https://vercel.com/docs/functions)
- [Neon PostgreSQL](https://neon.tech/docs)
- [é˜¿é‡Œäº‘ç™¾ç‚¼](https://help.aliyun.com/zh/model-studio/)

---

## è”ç³»ä¸æ”¯æŒ

**é¡¹ç›®ç»´æŠ¤**ï¼šAI Tarot Team
**æŠ€æœ¯æ”¯æŒ**ï¼šè¯·æäº¤ GitHub Issue
**åŠŸèƒ½å»ºè®®**ï¼šæ¬¢è¿ Pull Request

---

**æœ€åæ›´æ–°**ï¼š2024-12-09
**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0
